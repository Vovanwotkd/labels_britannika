# ๐ท๏ธ Britannica Labels - ะกะธััะตะผะฐ ะะตัะฐัะธ ะญัะธะบะตัะพะบ ะดะปั ะะตััะพัะฐะฝะพะฒ

ะะฒัะพะฝะพะผะฝัะน ัะตัะฒะธั ะฟะตัะฐัะธ ััะธะบะตัะพะบ ะดะปั ัะตััะพัะฐะฝะพะฒ ัะตัะธ Britannica Project. ะะฐะฑะพัะฐะตั ะฒ ะปะพะบะฐะปัะฝะพะน ัะตัะธ, ะพะฑะตัะฟะตัะธะฒะฐะตั ะฟัะพัะปะตะถะธะฒะฐะตะผะพััั ะฟัะพะดัะบัะธะธ ัะพะณะปะฐัะฝะพ ััะตะฑะพะฒะฐะฝะธัะผ ะกะฐะฝะะธะ ะธ ะะะกะข.

---

## ๐ ะะณะปะฐะฒะปะตะฝะธะต

- [ะะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ](#ะพะฟะธัะฐะฝะธะต-ะฟัะพะตะบัะฐ)
- [ะะปััะตะฒัะต ะฒะพะทะผะพะถะฝะพััะธ](#ะบะปััะตะฒัะต-ะฒะพะทะผะพะถะฝะพััะธ)
- [ะััะธัะตะบัััะฐ](#ะฐััะธัะตะบัััะฐ)
- [ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ](#ัะตัะฝะพะปะพะณะธัะตัะบะธะน-ััะตะบ)
- [ะขัะตะฑะพะฒะฐะฝะธั](#ััะตะฑะพะฒะฐะฝะธั)
- [ะฃััะฐะฝะพะฒะบะฐ](#ัััะฐะฝะพะฒะบะฐ)
- [ะะพะฝัะธะณััะฐัะธั](#ะบะพะฝัะธะณััะฐัะธั)
- [ะัะฟะพะปัะทะพะฒะฐะฝะธะต](#ะธัะฟะพะปัะทะพะฒะฐะฝะธะต)
- [ะะฐะทัะฐะฑะพัะบะฐ](#ัะฐะทัะฐะฑะพัะบะฐ)
- [ะะพะบัะผะตะฝัะฐัะธั](#ะดะพะบัะผะตะฝัะฐัะธั)

---

## ๐ฏ ะะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ

**Britannica Labels** โ ััะพ standalone ะฒะตะฑ-ัะตัะฒะธั, ะบะพัะพััะน:

1. **ะัะธะฝะธะผะฐะตั ะทะฐะบะฐะทั** ะธะท RKeeper ัะตัะตะท XML webhook
2. **ะะฑะพะณะฐัะฐะตั ะดะฐะฝะฝัะต** ะฑะปัะด ะธะท Store House 5 (ะะะฃ, ะฒะตั, ัะพััะฐะฒ, ะดะพะฟะพะปะฝะธัะตะปัะฝัะต ััะธะบะตัะบะธ)
3. **ะะตะฝะตัะธััะตั TSPL ะบะพะผะฐะฝะดั** ะดะปั ัะตัะผะพะฟัะธะฝัะตัะฐ PC-365B / XP-D365B
4. **ะะตัะฐัะฐะตั ััะธะบะตัะบะธ** ะฝะฐะฟััะผัั ะฟะพ TCP:9100 (ะฑะตะท ะดัะฐะนะฒะตัะพะฒ)
5. **ะัะตะดะพััะฐะฒะปัะตั UI** ะดะปั ะพะฟะตัะฐัะพัะพะฒ ะบััะฝะธ (real-time ะดะพัะบะฐ ะทะฐะบะฐะทะพะฒ)

### ะะฐัะตะผ ััะพ ะฝัะถะฝะพ?

- โ **ะัะพัะปะตะถะธะฒะฐะตะผะพััั** โ ะบะฐะถะดะฐั ััะธะบะตัะบะฐ ัะพะดะตัะถะธั ัะพััะฐะฒ, ะะะฃ, ะดะฐัั ะธะทะณะพัะพะฒะปะตะฝะธั, ััะพะบ ะณะพะดะฝะพััะธ
- โ **ะะฒัะพะผะฐัะธะทะฐัะธั** โ ะพะฟะตัะฐัะพั ะฒะธะดะธั ะทะฐะบะฐะทั ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ, ะฟะตัะฐัั ะพะดะฝะพะน ะบะฝะพะฟะบะพะน
- โ **ะะพะฝััะพะปั ะบะฐัะตััะฒะฐ** โ ัะฐะทะดะตะปัะฝะฐั ัะฟะฐะบะพะฒะบะฐ ัะพััะพะฒ ะธ ะดะพะฑะฐะฒะพะบ
- โ **ะกะพะพัะฒะตัััะฒะธะต ะฝะพัะผะฐะผ** โ ะกะฐะฝะะธะ 2.3.2.1324-03, ะะะกะข ะ 51074-2003
- โ **ะะฒัะพะฝะพะผะฝะพััั** โ ัะฐะฑะพัะฐะตั ะฒ ะปะพะบะฐะปัะฝะพะน ัะตัะธ, ะฝะต ะทะฐะฒะธัะธั ะพั ะธะฝัะตัะฝะตัะฐ

---

## โจ ะะปััะตะฒัะต ะฒะพะทะผะพะถะฝะพััะธ

### ะะปั ะพะฟะตัะฐัะพัะพะฒ ะบััะฝะธ

- ๐ **Real-time ะดะพัะบะฐ ะทะฐะบะฐะทะพะฒ** โ WebSocket ะพะฑะฝะพะฒะปะตะฝะธั, ัะฒะตัะพะฒะฐั ะธะฝะดะธะบะฐัะธั ััะฐัััะพะฒ
- ๐จ๏ธ **ะััััะฐั ะฟะตัะฐัั** โ ะฒะตัั ะทะฐะบะฐะท ะพะดะฝะพะน ะบะฝะพะฟะบะพะน, ะธะปะธ ัะพัะตัะฝะฐั ะฟะตัะฐัั ะบะพะฝะบัะตัะฝะพะณะพ ะฑะปัะดะฐ
- ๐ **ะะตัะตะพัะฟะตัะฐัะบะฐ** โ ะตัะปะธ ััะธะบะตัะบะฐ ะฟะพะฒัะตะถะดะตะฝะฐ ะธะปะธ ะฟะพัะตััะฝะฐ
- ๐จ **ะฆะฒะตัะพะฒะฐั ะธะฝะดะธะบะฐัะธั**:
  - ๐ก ะะพะฒัะน ะทะฐะบะฐะท (NOT_PRINTED)
  - ๐ฆ ะ ะพัะตัะตะดะธ (QUEUED)
  - ๐ช ะะตัะฐัะฐะตััั (PRINTING)
  - ๐ข ะะพัะพะฒะพ (DONE)
  - ๐ด ะัะธะฑะบะฐ (FAILED) โ ั ะบะฝะพะฟะบะพะน ะฟะพะฒัะพัะฐ

### ะะปั ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ

- ๐๏ธ **ะะฐัััะพะนะบะธ**:
  - ะัะธะฝัะตั (IP, ะฟะพัั, ัะตัั ะฟะตัะฐัะธ)
  - Store House 5 (ัะธะฝััะพะฝะธะทะฐัะธั ะดะฐะฝะฝัั ะฑะปัะด)
  - ะคะธะปััั ััะพะปะพะฒ (ะบะฐะบะธะต ะทะฐะบะฐะทั ะพััะปะตะถะธะฒะฐัั)
  - ะะฐัะฐะผะตััั ััะธะบะตัะพะบ (ัะฐะทะผะตั ะฑัะผะฐะณะธ, GAP, ััะพะบ ะณะพะดะฝะพััะธ)

- ๐ **ะจะฐะฑะปะพะฝั ััะธะบะตัะพะบ**:
  - ะัะตะฝะดะพะฒัะต ัะฐะฑะปะพะฝั ะดะปั ัะฐะทะฝัั ะบะพะฝัะตะฟัะธะน
  - ะะฐัััะพะนะบะฐ ัะปะตะผะตะฝัะพะฒ (ะปะพะณะพัะธะฟ, ััะธััั, ัััะธั-ะบะพะดั)
  - ะขะตัั ะฟะตัะฐัะธ ะฟะตัะตะด ะฟัะธะผะตะฝะตะฝะธะตะผ

- ๐ฅ **ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ**:
  - ะะพะปะธ: `operator` (ะฟะตัะฐัั), `admin` (ะฝะฐัััะพะนะบะธ)
  - ะะตะณะธัััะฐัะธั ะฝะพะฒัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน ัะตัะตะท UI

---

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           RKeeper (ะบะฐััะพะฒะฐั ัะธััะตะผะฐ)                    โ
โ              XML Webhook Interface                      โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ POST /api/webhook/rkeeper
                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         Britannica Labels Service (ะผะธะฝะธ-ะะ)             โ
โ                                                          โ
โ  Backend (FastAPI + Python):                            โ
โ  โโ Webhook receiver (RKeeper XML parser)               โ
โ  โโ SQLite (ะทะฐะบะฐะทั, ัะฐะฑะปะพะฝั, ะฟะพะปัะทะพะฒะฐัะตะปะธ)             โ
โ  โโ dishes_with_extras.sqlite (ัะพะทะดะฐัััั ะปะพะบะฐะปัะฝะพ)     โ
โ  โโ TSPL renderer (Pillow, ะณะตะฝะตัะฐัะธั ะบะพะผะฐะฝะด)           โ
โ  โโ TCP:9100 printer client                            โ
โ  โโ WebSocket server (real-time updates)               โ
โ                                                          โ
โ  Frontend (React + Vite):                               โ
โ  โโ ะะพัะบะฐ ะทะฐะบะฐะทะพะฒ (WebSocket ะฟะพะดะฟะธัะบะฐ)                 โ
โ  โโ ะะตะดะฐะบัะพั ัะฐะฑะปะพะฝะพะฒ                                   โ
โ  โโ ะะฐะฝะตะปั ะฝะฐัััะพะตะบ                                     โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
         โโโโโโโโโโโโโดโโโโโโโโโโโโ
         โ                       โ
โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ
โ  ะะฟะตัะฐัะพัั       โ    โ  ะัะธะฝัะตั         โ
โ  (ะฟะปะฐะฝัะตั/ะะ)    โ    โ  PC-365B         โ
โ  http://labels   โ    โ  TCP:9100        โ
โโโโโโโโโโโโโโโโโโโโ    โ  203 dpi TSPL    โ
                        โโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         Store House 5 (ัะฟัะฐะฒะปะตะฝะธะต ัะพะฒะฐัะฐะผะธ)             โ
โ              ะกะธะฝััะพะฝะธะทะฐัะธั 1x/ะดะตะฝั                      โ
โ              export_dishes_with_extras.py               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐๏ธ ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

### Backend
- **Python 3.11+** โ ัะทัะบ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั
- **FastAPI** โ ะฒะตะฑ-ััะตะนะผะฒะพัะบ, REST API, WebSocket
- **SQLite** โ ะฑะฐะทะฐ ะดะฐะฝะฝัั (ะทะฐะบะฐะทั, ัะฐะฑะปะพะฝั, ะฟะพะปัะทะพะฒะฐัะตะปะธ)
- **SQLAlchemy** โ ORM ะดะปั ัะฐะฑะพัั ั ะะ
- **Pillow** โ ะณะตะฝะตัะฐัะธั ะธะทะพะฑัะฐะถะตะฝะธะน ะดะปั TSPL
- **aiohttp** โ async HTTP ะบะปะธะตะฝั ะดะปั Store House API
- **APScheduler** โ ัะพะฝะพะฒัะต ะทะฐะดะฐัะธ (ัะธะฝััะพะฝะธะทะฐัะธั, ะฐััะธะฒะฐัะธั)
- **bcrypt** โ ัะตัะธัะพะฒะฐะฝะธะต ะฟะฐัะพะปะตะน

### Frontend
- **React 18** โ UI ะฑะธะฑะปะธะพัะตะบะฐ
- **TypeScript** โ ัะธะฟะธะทะฐัะธั
- **Vite** โ build tool
- **Tailwind CSS** โ ััะธะปะธะทะฐัะธั
- **WebSocket API** โ real-time ะพะฑะฝะพะฒะปะตะฝะธั
- **react-router-dom** โ ะฝะฐะฒะธะณะฐัะธั

### Deployment
- **Ubuntu/Debian** โ ะพะฟะตัะฐัะธะพะฝะฝะฐั ัะธััะตะผะฐ (ะผะธะฝะธ-ะะ)
- **systemd** โ ะฐะฒัะพะทะฐะฟััะบ ัะตัะฒะธัะฐ
- **nginx** โ reverse proxy (ะพะฟัะธะพะฝะฐะปัะฝะพ)

---

## ๐ฆ ะขัะตะฑะพะฒะฐะฝะธั

### Hardware
- **ะะธะฝะธ-ะะ**: Intel NUC / Raspberry Pi 4 / ะฐะฝะฐะปะพะณ (2GB+ RAM)
- **ะัะธะฝัะตั**: PC-365B / Xprinter XP-D365B (203 dpi, TSPL/TSPL2)
- **ะกะตัั**: LAN/Wi-Fi, ััะฐัะธัะตัะบะธะน IP ะธะปะธ mDNS

### Software
- **ะะก**: Ubuntu 20.04+ / Debian 11+
- **Python**: 3.11+
- **Node.js**: 18+ (ะดะปั ัะฑะพัะบะธ frontend)
- **RKeeper**: XML Interface ะฝะฐัััะพะตะฝ ะฝะฐ webhook
- **Store House 5**: API ะดะพัััะฟ (http://10.0.0.141:9797/api/sh5exec)

---

## ๐ ะฃััะฐะฝะพะฒะบะฐ

โ๏ธ **ะะะะะ:** ะัะพัะธัะฐะนัะต [SECURITY.md](SECURITY.md) ะฟะตัะตะด ะฝะฐัะฐะปะพะผ! Credentials ะฝะต ะดะพะปะถะฝั ะฟะพะฟะฐะดะฐัั ะฒ git.

### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั

```bash
git clone https://github.com/Vovanwotkd/-labels_britannika.git
cd -labels_britannika
```

### 1.1. ะะฐัััะพะนะบะฐ credentials

```bash
# ะกะพะทะดะฐะนัะต .env ะธะท ะฟัะธะผะตัะฐ
cp .env.example .env

# ะฃะบะฐะถะธัะต ัะฒะพะธ ะดะฐะฝะฝัะต
nano .env
```

**ะะฑัะทะฐัะตะปัะฝะพ ะธะทะผะตะฝะธัะต:**
- `SH5_URL`, `SH5_USER`, `SH5_PASS` - ะดะพัััะฟ ะบ Store House 5
- `PRINTER_IP` - IP ะฐะดัะตั ะฒะฐัะตะณะพ ะฟัะธะฝัะตัะฐ
- `SECRET_KEY` - ัะณะตะฝะตัะธััะนัะต ะฝะพะฒัะน ะบะปัั:
  ```bash
  python -c "import secrets; print(secrets.token_hex(32))"
  ```

### 1.2. ะกะพะทะดะฐะนัะต ัะบัะธะฟั ัะบัะฟะพััะฐ

```bash
# ะกะบะพะฟะธััะนัะต ะฟัะธะผะตั
cp export_dishes_with_extras.py.example export_dishes_with_extras.py

# ะััะตะดะฐะบัะธััะนัะต (ะธะปะธ ะธัะฟะพะปัะทัะนัะต .env)
nano export_dishes_with_extras.py
```

### 2. Backend ัััะฐะฝะพะฒะบะฐ

```bash
cd backend

# ะกะพะทะดะฐะฝะธะต ะฒะธัััะฐะปัะฝะพะณะพ ะพะบััะถะตะฝะธั
python3.11 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
pip install -r requirements.txt

# ะะฝะธัะธะฐะปะธะทะฐัะธั ะะ
python init_db.py

# ะกะพะทะดะฐะฝะธะต admin ะฟะพะปัะทะพะฒะฐัะตะปั (admin/admin)
python create_admin.py
```

### 3. Frontend ัััะฐะฝะพะฒะบะฐ

```bash
cd frontend

# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
npm install

# Production build
npm run build

# ะคะฐะนะปั ะฑัะดัั ะฒ frontend/dist/
```

### 4. ะกะธะฝััะพะฝะธะทะฐัะธั Store House 5

```bash
# ะะฐะทะพะฒะพ
python export_dishes_with_extras.py

# ะะฐัััะพะนะบะฐ cron (ะตะถะตะดะฝะตะฒะฝะพ ะฒ 3:00)
crontab -e
# ะะพะฑะฐะฒะธัั: 0 3 * * * /path/to/venv/bin/python /path/to/export_dishes_with_extras.py
```

### 5. ะะฐะฟััะบ ัะตัะฒะธัะฐ

```bash
# Development
cd backend
uvicorn main:app --reload --host 0.0.0.0 --port 8000

# Production (systemd)
sudo systemctl enable britannica-labels
sudo systemctl start britannica-labels
```

---

## โ๏ธ ะะพะฝัะธะณััะฐัะธั

### ะะฐัััะพะนะบะฐ ะฟัะธะฝัะตัะฐ

1. ะะพะดะบะปััะธัะต PC-365B ะบ ัะตัะธ (Wi-Fi ะธะปะธ LAN)
2. ะฃะทะฝะฐะนัะต IP ะฐะดัะตั ะฟัะธะฝัะตัะฐ (ะฝะฐะฟัะธะผะตั, 192.168.1.10)
3. ะัะบัะพะนัะต `http://labels.local:8000/settings`
4. ะฃะบะฐะถะธัะต IP ะธ ะฟะพัั 9100
5. ะะฐะถะผะธัะต "ะขะตัั ะฟะตัะฐัะธ"

### ะะฐัััะพะนะบะฐ RKeeper webhook

ะ RKeeper XML Interface ะดะพะฑะฐะฒััะต ะฟะพะดะฟะธัะบั:

```xml
<Subscription>
  <Event name="SaveOrder"/>
  <URL>http://labels.local:8000/api/webhook/rkeeper</URL>
</Subscription>
```

### ะะฐัััะพะนะบะฐ Store House 5

ะ ะฒะตะฑ-ะธะฝัะตััะตะนัะต (`/settings`):
- URL: `http://10.0.0.141:9797/api/sh5exec`
- ะะพะณะธะฝ: `Admin`
- ะะฐัะพะปั: `******`
- ะะตัะธะพะด ัะธะฝััะพะฝะธะทะฐัะธะธ: `24 ัะฐัะฐ`

### ะคะธะปััั ััะพะปะพะฒ

1. ะะฐะถะผะธัะต "ะะฐะณััะทะธัั ะธะท RKeeper" (ะทะฐะณััะถะฐะตั ัะฟัะฐะฒะพัะฝะธะบ ััะพะปะพะฒ)
2. ะัะฑะตัะธัะต ะฝัะถะฝัะต ััะพะปั (ะฝะฐะฟัะธะผะตั, ัะพะปัะบะพ Kitchen ะทะพะฝะฐ)
3. ะกะพััะฐะฝะธัะต

ะขะตะฟะตัั ะทะฐะบะฐะทั ั ะดััะณะธั ััะพะปะพะฒ ะฝะต ะฑัะดัั ะพัะพะฑัะฐะถะฐัััั ะฝะฐ ะดะพัะบะต.

---

## ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะะปั ะพะฟะตัะฐัะพัะพะฒ

1. ะัะบัะพะนัะต `http://labels.local:8000` ะฒ ะฑัะฐัะทะตัะต
2. ะะพะนะดะธัะต (ะปะพะณะธะฝ/ะฟะฐัะพะปั)
3. ะฃะฒะธะดะธัะต ะดะพัะบั ะทะฐะบะฐะทะพะฒ

**ะะตัะฐัั ะทะฐะบะฐะทะฐ:**
- ะะฐะถะผะธัะต ะฝะฐ ะบะฐััะพัะบั ะทะฐะบะฐะทะฐ
- ะะฐะถะผะธัะต "ะะตัะฐัั ะทะฐะบะฐะทะฐ" (ะฟะตัะฐัะฐะตั ะฒัะต ะฑะปัะดะฐ + ะดะพะฟ. ััะธะบะตัะบะธ)

**ะขะพัะตัะฝะฐั ะฟะตัะฐัั:**
- ะะฐะถะผะธัะต ะฝะฐ ะบะฐััะพัะบั ะทะฐะบะฐะทะฐ
- ะะปะธะบะฝะธัะต ะฝะฐ ะบะพะฝะบัะตัะฝะพะต ะฑะปัะดะพ
- ะะฐะถะผะธัะต "ะะตัะฐัั"

**ะะตัะตะพัะฟะตัะฐัะบะฐ:**
- ะะฐะถะผะธัะต "ะะตัะตะพัะฟะตัะฐัะฐัั" ะฝะฐ ะฑะปัะดะต
- ะกะพะทะดะฐัััั ะฝะพะฒะฐั ััะธะบะตัะบะฐ ั ะฝะพะฒัะผ ะฒัะตะผะตะฝะตะผ

### ะะปั ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ

**ะกะพะทะดะฐะฝะธะต ัะฐะฑะปะพะฝะฐ:**
1. ะะบะปะฐะดะบะฐ "ะจะฐะฑะปะพะฝั"
2. ะะฐะถะผะธัะต "+ ะะพะฒัะน"
3. ะะฐัััะพะนัะต ะฟะฐัะฐะผะตััั (ัะฐะทะผะตั ะฑัะผะฐะณะธ, ััะพะบ ะณะพะดะฝะพััะธ, ัะปะตะผะตะฝัั)
4. ะะฐะณััะทะธัะต ะปะพะณะพัะธะฟ (BMP 1-bit)
5. ะกะพััะฐะฝะธัะต
6. ะะฐะถะผะธัะต "ะขะตัั ะฟะตัะฐัะธ"

**ะะพะฑะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั:**
1. ะะบะปะฐะดะบะฐ "ะะพะปัะทะพะฒะฐัะตะปะธ"
2. ะะฐะถะผะธัะต "+ ะะพะฑะฐะฒะธัั"
3. ะฃะบะฐะถะธัะต ะปะพะณะธะฝ, ะฟะฐัะพะปั, ัะพะปั
4. ะกะพััะฐะฝะธัะต

---

## ๐ง ะะฐะทัะฐะฑะพัะบะฐ

### ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
britannica-labels/
โโโ backend/
โ   โโโ app/
โ   โ   โโโ api/              # REST endpoints
โ   โ   โ   โโโ orders.py
โ   โ   โ   โโโ webhook.py
โ   โ   โ   โโโ templates.py
โ   โ   โ   โโโ settings.py
โ   โ   โโโ core/             # ะะพะฝัะธะณััะฐัะธั
โ   โ   โ   โโโ config.py
โ   โ   โ   โโโ database.py
โ   โ   โ   โโโ security.py
โ   โ   โโโ models/           # SQLAlchemy models
โ   โ   โ   โโโ order.py
โ   โ   โ   โโโ template.py
โ   โ   โ   โโโ user.py
โ   โ   โโโ services/         # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โ   โ   โโโ printer.py    # TSPL renderer + TCP client
โ   โ   โ   โโโ queue.py      # Print queue worker
โ   โ   โ   โโโ sh5_sync.py   # Store House sync
โ   โ   โ   โโโ rkeeper.py    # XML parser
โ   โ   โโโ schemas/          # Pydantic schemas
โ   โโโ main.py               # FastAPI app
โ   โโโ requirements.txt
โ   โโโ tests/
โโโ frontend/
โ   โโโ src/
โ   โ   โโโ components/
โ   โ   โ   โโโ OrderBoard/   # ะะพัะบะฐ ะทะฐะบะฐะทะพะฒ
โ   โ   โ   โโโ Templates/    # ะะตะดะฐะบัะพั ัะฐะฑะปะพะฝะพะฒ
โ   โ   โ   โโโ Settings/     # ะะฐัััะพะนะบะธ
โ   โ   โ   โโโ Users/        # ะะพะปัะทะพะฒะฐัะตะปะธ
โ   โ   โโโ hooks/            # Custom hooks
โ   โ   โโโ services/         # API client
โ   โ   โโโ App.tsx
โ   โโโ package.json
โ   โโโ vite.config.ts
โโโ export_dishes_with_extras.py   # ะกะธะฝััะพะฝะธะทะฐัะธั SH5
โโโ dishes_with_extras.sqlite      # ะะฐััะตั-ะฑะฐะทะฐ ะฑะปัะด (ัะพะทะดะฐัััั ัะบัะธะฟัะพะผ)
โโโ README.md
โโโ IMPLEMENTATION.md              # ะะตัะฐะปัะฝัะน ะฟะปะฐะฝ ัะฐะทัะฐะฑะพัะบะธ
โโโ .gitignore
```

**ะัะธะผะตัะฐะฝะธะต:** ะคะฐะนะปั ะดะปั ะธะทััะตะฝะธั (`westpower.fiji/`, `XML (2)/`) ะฝะต ะฒะบะปััะตะฝั ะฒ ัะตะฟะพะทะธัะพัะธะน.
ะะฝะธ ะธัะฟะพะปัะทะพะฒะฐะปะธัั ะดะปั ะธะทััะตะฝะธั ะธะฝัะตะณัะฐัะธะธ ั RKeeper ะธ Bitrix, ะฝะพ ะฝะต ะฝัะถะฝั ะดะปั ัะฐะฑะพัั ัะตัะฒะธัะฐ.

### ะะฐะฟััะบ ะฒ dev ัะตะถะธะผะต

**Backend:**
```bash
cd backend
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

**Frontend:**
```bash
cd frontend
npm run dev
# ะัะบัะพะตััั http://localhost:5173
# ะัะพะบัะธััะตั API ะทะฐะฟัะพัั ะฝะฐ localhost:8000
```

### ะขะตััะธัะพะฒะฐะฝะธะต

```bash
# Backend tests
cd backend
pytest

# Frontend tests
cd frontend
npm run test
```

---

## ๐ ะะพะบัะผะตะฝัะฐัะธั

- [IMPLEMENTATION.md](IMPLEMENTATION.md) โ ะดะตัะฐะปัะฝัะน ะฟะปะฐะฝ ัะฐะทัะฐะฑะพัะบะธ (5 ะฝะตะดะตะปั)
- [API.md](docs/API.md) โ REST API ัะฟะตัะธัะธะบะฐัะธั
- [DATABASE.md](docs/DATABASE.md) โ ััะตะผะฐ ะฑะฐะทั ะดะฐะฝะฝัั
- [TSPL.md](docs/TSPL.md) โ ัะพัะผะฐั TSPL ะบะพะผะฐะฝะด, ะณะตะฝะตัะฐัะธั ััะธะบะตัะพะบ
- [DEPLOYMENT.md](docs/DEPLOYMENT.md) โ ะธะฝััััะบัะธั ะฟะพ ัััะฐะฝะพะฒะบะต ะฝะฐ production

---

## ๐ Changelog

### v1.0.0 (ะฟะปะฐะฝะธััะตััั)
- โ ะัะธัะผ ะทะฐะบะฐะทะพะฒ ะธะท RKeeper
- โ ะะพัะบะฐ ะทะฐะบะฐะทะพะฒ (real-time)
- โ ะะตัะฐัั ััะธะบะตัะพะบ (ะพัะฝะพะฒะฝัะต + ะดะพะฟะพะปะฝะธัะตะปัะฝัะต)
- โ ะจะฐะฑะปะพะฝั (ะฝะฐัััะพะนะบะฐ ะฟะฐัะฐะผะตััะพะฒ)
- โ ะะฒัะพัะธะทะฐัะธั (operator/admin)
- โ ะะฐัััะพะนะบะธ (ะฟัะธะฝัะตั, StoreHouse, ัะธะปััั ััะพะปะพะฒ)

---

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

ะัะพะตะบั ัะฐะทัะฐะฑะฐััะฒะฐะตััั ะดะปั ัะตััะพัะฐะฝะพะฒ ัะตัะธ Britannica Project.

---

## ๐ ะะธัะตะฝะทะธั

Proprietary โ ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ัะพะปัะบะพ ะดะปั Britannica Project.

---

## ๐ฅ ะะฒัะพัั

- **ะะฐะทัะฐะฑะพัะบะฐ**: Britannica Project IT Team
- **ะะพะฝัะฐะบัั**: it@britannica-project.com

---

## ๐ ะะพะดะดะตัะถะบะฐ

**ะัะพะฑะปะตะผั ั ะฟัะธะฝัะตัะพะผ:**
1. ะัะพะฒะตัััะต ัะตัะตะฒะพะต ะฟะพะดะบะปััะตะฝะธะต (ping IP ะฟัะธะฝัะตัะฐ)
2. ะฃะฑะตะดะธัะตัั, ััะพ ะฟะพัั 9100 ะพัะบััั
3. ะะพะฟัะพะฑัะนัะต ัะตัั ะฟะตัะฐัะธ ะธะท ะฝะฐัััะพะตะบ
4. ะัะพะฒะตัััะต ะปะพะณะธ: `/var/log/britannica-labels/printer.log`

**ะะต ะฟัะธัะพะดัั ะทะฐะบะฐะทั:**
1. ะัะพะฒะตัััะต ะฝะฐัััะพะนะบั webhook ะฒ RKeeper
2. ะัะพะฒะตัััะต ัะธะปััั ััะพะปะพะฒ (ะผะพะถะตั ััะพะป ะฝะต ะฒัะฑัะฐะฝ)
3. ะัะพะฒะตัััะต ะปะพะณะธ: `/var/log/britannica-labels/webhook.log`

**ะะตั ะดะฐะฝะฝัั ะฑะปัะด:**
1. ะะฐะฟัััะธัะต ัะธะฝััะพะฝะธะทะฐัะธั Store House ะฒัััะฝัั
2. ะัะพะฒะตัััะต ะดะพัััะฟะฝะพััั API Store House
3. ะัะพะฒะตัััะต `dishes_with_extras.sqlite` (ะดะพะปะถะตะฝ ะฑััั > 5MB)

---

**ะะตััะธั ะดะพะบัะผะตะฝัะฐ**: 1.0
**ะะฐัะฐ**: 19.10.2025
**Timezone**: GMT+2
