üìò –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
–ü—Ä–æ–µ–∫—Ç: Standalone Label Printing Service –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ —Å–µ—Ç–∏ Britannica Project
üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å –ø–µ—á–∞—Ç–∏ —ç—Ç–∏–∫–µ—Ç–æ–∫, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ë–£–°.
–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å:

–≤–∏–∑—É–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏;

—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ —ç—Ç–∏–∫–µ—Ç–æ–∫ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å;

–ø–µ—á–∞—Ç—å —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏ (–ü–ö, –ø–ª–∞–Ω—à–µ—Ç, —Ç–µ–ª–µ—Ñ–æ–Ω);

–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ StoreHouse 5 –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ—Å—Ç–∞–≤–∞ –±–ª—é–¥, –ë–ñ–£ –∏ –≤–µ—Å–∞.

–°–µ—Ä–≤–∏—Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –º–∏–Ω–∏-–ü–ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ (Ubuntu/Debian) –∏ –Ω–∞–ø—Ä—è–º—É—é —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–µ—Ç–µ–≤—ã–º –ø—Ä–∏–Ω—Ç–µ—Ä–æ–º PC-365B / Xprinter XP-D365B –ø–æ TCP 9100 (TSPL).

üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
Backend	FastAPI (Python 3.11+) ‚Äî API, WebSocket, –æ—á–µ—Ä–µ–¥—å –ø–µ—á–∞—Ç–∏, —Ä–µ–Ω–¥–µ—Ä TSPL
Frontend	React + Vite + Tailwind + Socket.IO ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö	SQLite ‚Äî –∑–∞–∫–∞–∑—ã, —à–∞–±–ª–æ–Ω—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–ü–µ—á–∞—Ç—å	TCP 9100 ‚Üí TSPL-–∫–æ–º–∞–Ω–¥—ã
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è	StoreHouse 5 API (SH5)
–ü—Ä–∏–Ω—Ç–µ—Ä	PC-365B / XP-D365B –ø–æ Wi-Fi –∏–ª–∏ LAN
üåê –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ —Å–µ—Ç—å

–°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–∏–Ω–∏-–ü–ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞.

–í—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (—Ç–µ–ª–µ—Ñ–æ–Ω, –ø–ª–∞–Ω—à–µ—Ç, –∫–∞—Å—Å–∞, –Ω–æ—É—Ç–±—É–∫) –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ –Ω–µ–º—É –ø–æ http://labels.local –∏–ª–∏ IP-–∞–¥—Ä–µ—Å—É.

–ü—Ä–∏–Ω—Ç–µ—Ä –ø–æ–¥–∫–ª—é—á—ë–Ω –ø–æ Wi-Fi/LAN, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –ø–æ—Ä—Ç 9100.

–î—Ä–∞–π–≤–µ—Ä—ã –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è.

‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
1Ô∏è‚É£ –í–∫–ª–∞–¥–∫–∞ ¬´–ù–∞—Å—Ç—Ä–æ–π–∫–∏¬ª
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è, —à–∞–±–ª–æ–Ω–æ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π.

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

–®–∞–±–ª–æ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: device ‚Üí user ‚Üí zone ‚Üí brand ‚Üí global.

–ü—Ä–∏–Ω—Ç–µ—Ä ‚Äî IP, –ø–æ—Ä—Ç 9100, —Ç–µ—Å—Ç–æ–≤–∞—è –ø–µ—á–∞—Ç—å.

StoreHouse 5 ‚Äî URL, –ª–æ–≥–∏–Ω, –ø–∞—Ä–æ–ª—å, —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

–ó–æ–Ω—ã –∏ —Å—Ç–æ–ª—ã ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ / –∏–º–ø–æ—Ä—Ç / —ç–∫—Å–ø–æ—Ä—Ç CSV.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ä–æ–ª–∏:

viewer ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä,

operator ‚Äî –ø–µ—á–∞—Ç—å,

admin ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä.

–ë–î

printers, sh5_config, label_defaults, devices, users.

2Ô∏è‚É£ –í–∫–ª–∞–¥–∫–∞ ¬´–†–µ–¥–∞–∫—Ç–æ—Ä —à–∞–±–ª–æ–Ω–∞¬ª
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞–∫–µ—Ç–æ–≤ —ç—Ç–∏–∫–µ—Ç–æ–∫.

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

üé® Canvas-—Ä–µ–¥–∞–∫—Ç–æ—Ä (–º–º, 203 dpi ‚âà 8 px/–º–º).

üëÅ –ü—Ä–µ–≤—å—é –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ (/templates/preview ‚Üí PNG).

üñ® –¢–µ—Å—Ç–æ–≤–∞—è –ø–µ—á–∞—Ç—å.

‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±—É–º–∞–≥–∏: —à–∏—Ä–∏–Ω–∞, –≤—ã—Å–æ—Ç–∞, GAP, –ø–ª–æ—Ç–Ω–æ—Å—Ç—å, –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è.

üß± –ë–ª–æ–∫–∏: –ó–∞–≥–æ–ª–æ–≤–æ–∫, –°–æ—Å—Ç–∞–≤, –ë–ñ–£/–ö–∫–∞–ª, –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞, –ª–æ–≥–æ—Ç–∏–ø (BMP 1-–±–∏—Ç), —à—Ç—Ä–∏—Ö/QR.

üìú –í–µ—Ä—Å–∏–∏ (draft / published) + –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.

üìÅ –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç JSON (schema_json).

3Ô∏è‚É£ –í–∫–ª–∞–¥–∫–∞ ¬´–ó–∞–∫–∞–∑—ã¬ª ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ—Å–∫–∞
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–†–µ–∞–ª-—Ç–∞–π–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–∫–∞–∑–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—á–∞—Ç—å—é.

UI

Grid-layout –∫–∞—Ä—Ç–æ—á–µ–∫ –∑–∞–∫–∞–∑–æ–≤, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π, —Å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π.

–§–∏–ª—å—Ç—Ä—ã: –ø–æ–∏—Å–∫, –∑–æ–Ω—ã, —Å—Ç–∞—Ç—É—Å (New, Printed, Error).

–ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–∫–∞–∑–∞:

–Ω–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞ / –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞;

–≤—Ä–µ–º—è;

–∑–æ–Ω–∞ (Orders ‚Üí Kitchen);

—Å–ø–∏—Å–æ–∫ –ø–æ–∑–∏—Ü–∏–π;

–∫–Ω–æ–ø–∫–∏ ¬´–ü–µ—á–∞—Ç—å –∑–∞–∫–∞–∑–∞¬ª, ¬´–ü–µ—á–∞—Ç—å –ø–æ–∑–∏—Ü–∏–∏¬ª, ¬´+1¬ª, ¬´–ü–µ—Ä–µ–æ—Ç–ø–µ—á–∞—Ç–∞—Ç—å¬ª;

—Ö–æ–≤–µ—Ä ‚Üí —Å–æ—Å—Ç–∞–≤ / –ë–ñ–£ / –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π;

–∫–Ω–æ–ø–∫–∞ ¬´–ò—Å—Ç–æ—Ä–∏—è¬ª.

–¶–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤
–°—Ç–∞—Ç—É—Å	–¶–≤–µ—Ç	–ü–æ–≤–µ–¥–µ–Ω–∏–µ
üü° NOT_PRINTED	–∂—ë–ª—Ç—ã–π	–Ω–æ–≤—ã–π –∑–∞–∫–∞–∑, —Å–≤–µ—Ä—Ö—É, –ª—ë–≥–∫–∞—è –ø—É–ª—å—Å–∞—Ü–∏—è
üü¶ QUEUED	–≥–æ–ª—É–±–æ–π	–≤ –æ—á–µ—Ä–µ–¥–∏
üü™ PRINTING	—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π	–ø–µ—á–∞—Ç–∞–µ—Ç—Å—è
üü¢ DONE	–∑–µ–ª—ë–Ω—ã–π	–ø–ª–∞–≤–Ω–æ –æ–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–Ω–∏–∑ —Å–ø–∏—Å–∫–∞
üî¥ FAILED	–∫—Ä–∞—Å–Ω—ã–π	–º–∏–≥–∞–µ—Ç, –∫–Ω–æ–ø–∫–∞ ¬´–ü–æ–≤—Ç–æ—Ä–∏—Ç—å¬ª

FAILED –∏ NOT_PRINTED ‚Äî –≤–≤–µ—Ä—Ö—É, DONE ‚Äî –≤–Ω–∏–∑—É.

–ê–≤—Ç–æ—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥.

–û–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ WebSocket (/ws).

–û—à–∏–±–∫–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–∞ ‚Üí –∫—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω + —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.

–ê—Ä—Ö–∏–≤ –∑–∞–∫–∞–∑–æ–≤ —Å—Ç–∞—Ä—à–µ N —á–∞—Å–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

üñ® –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ –ø–µ—á–∞—Ç–∏

–§–æ—Ä–º–∞—Ç ‚Äî TSPL/TSPL2.

–†–µ–Ω–¥–µ—Ä —á–µ—Ä–µ–∑ Pillow ‚Üí BITMAP.

–û—Ç–ø—Ä–∞–≤–∫–∞ ‚Üí TCP 9100.

–û—á–µ—Ä–µ–¥—å –∏ —Ä–µ—Ç—Ä–∞–∏ ‚Äî print_jobs.

–ü–µ—Ä–µ–æ—Ç–ø–µ—á–∞—Ç–∫–∞ ‚Äî –Ω–æ–≤—ã–π job —Å —Ç–µ–º –∂–µ payload_json.

üß† –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å StoreHouse 5

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ sh5_config.

/sync/dishes ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ dishes(rk_code,name,weight_g,protein,fat,carbs,calories,ingredients).

–ü—Ä–∏ –ø–µ—á–∞—Ç–∏ ‚Äî –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ rk_code.

üîí –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è)

–ë–µ–∑ JWT, —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–µ—Å—Å–∏–∏ (cookie).

–¢–∞–±–ª–∏—Ü–∞ users(login, pass_hash, role).

–ü—Ä–∏ –ª–æ–≥–∏–Ω–µ ‚Üí —Å–µ—Å—Å–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ SQLite (session_id, user_id, expires_at).

–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ middleware (session_id –≤ cookie).

–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ 8 —á–∞—Å–æ–≤ (–º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å).

SSL –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ HTTP.

–ù–∞ —É—Ä–æ–≤–Ω–µ UI:

—ç–∫—Ä–∞–Ω –ª–æ–≥–∏–Ω–∞ (–ª–æ–≥–∏–Ω + –ø–∞—Ä–æ–ª—å);

–ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ ‚Üí –¥–æ—Å—Ç—É–ø –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –≤–∫–ª–∞–¥–∫–∞–º.

–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

@app.post("/login")
def login(form: LoginForm):
    user = db.get_user(form.login)
    if user and check_pw(form.password, user.pass_hash):
        sid = uuid4().hex
        db.add_session(sid, user.id)
        response = RedirectResponse("/orders", status_code=303)
        response.set_cookie("session_id", sid, httponly=True)
        return response

üì± –î–æ—Å—Ç—É–ø –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ IP-–¥–∏–∞–ø–∞–∑–æ–Ω–∞ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —á–µ—Ä–µ–∑ nginx.

HTTPS –ø–æ –∂–µ–ª–∞–Ω–∏—é (mkcert/self-signed).

–†–æ–ª–∏:

viewer ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–æ–≤;

operator ‚Äî –ø–µ—á–∞—Ç—å;

admin ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

üß∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç	–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è
Backend	Python 3.11 + FastAPI + SQLite
Frontend	React 18 + Vite + Tailwind + Socket.IO + Framer Motion
–†–µ–Ω–¥–µ—Ä	Pillow (BITMAP ‚Üí TSPL)
–û—á–µ—Ä–µ–¥—å	async tasks + SQLite jobs
–ê—É—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è	–ü—Ä–æ—Å—Ç–∞—è cookie-—Å–µ—Å—Å–∏—è
–°–µ—Ä–≤–∏—Å–Ω—ã–π –∑–∞–ø—É—Å–∫	systemd
–ë–î-–º–∏–≥—Ä–∞—Ü–∏–∏	SQL-—Å–∫—Ä–∏–ø—Ç—ã / Alembic
üéØ –¶–µ–ª—å MVP (v1)

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç—Ä–∏ –≤–∫–ª–∞–¥–∫–∏: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ / –†–µ–¥–∞–∫—Ç–æ—Ä / –ó–∞–∫–∞–∑—ã.

–°—Ç–∞–±–∏–ª—å–Ω–∞—è –ø–µ—á–∞—Ç—å —á–µ—Ä–µ–∑ PC-365B (Wi-Fi / LAN).

–¶–≤–µ—Ç–æ–≤–∞—è –¥–æ—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ —Å —Ä–µ–∞–ª-—Ç–∞–π–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º.

–û—á–µ—Ä–µ–¥—å, —Ä–µ—Ç—Ä–∞–∏, –ø–µ—Ä–µ–æ—Ç–ø–µ—á–∞—Ç–∫–∞.

–í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —à–∞–±–ª–æ–Ω–æ–≤ –∏ —Ç–µ—Å—Ç-–ø–µ—á–∞—Ç—å.

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è StoreHouse 5 –¥–ª—è –ë–ñ–£ –∏ —Å–æ—Å—Ç–∞–≤–∞.

–ü—Ä–æ—Å—Ç–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è.

‚úÖ –ü—Ä–∏–Ω—Ç–µ—Ä PC-365B / XP-D365B

–Ø–∑—ã–∫ TSPL/TSPL2.

–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ 203 dpi (‚âà 8 —Ç–æ—á–µ–∫/–º–º).

–ü–µ—á–∞—Ç—å –ø–æ Wi-Fi –∏–ª–∏ LAN (–ø–æ—Ä—Ç 9100).

–°–æ–≤–º–µ—Å—Ç–∏–º —Å —Ä–µ–Ω–¥–µ—Ä–æ–º BITMAP.

–ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥—Ä–∞–π–≤–µ—Ä–æ–≤.

üìç –ò—Ç–æ–≥:
–°–µ—Ä–≤–∏—Å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é, –Ω–∞–¥—ë–∂–Ω—É—é –∏ —É–¥–æ–±–Ω—É—é –ø–µ—á–∞—Ç—å —ç—Ç–∏–∫–µ—Ç–æ–∫ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ.
–ó–∞–∫–∞–∑—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ –∫–∞—Ä—Ç–æ—á–µ–∫ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π, —à–∞–±–ª–æ–Ω—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è –≤–∏–∑—É–∞–ª—å–Ω–æ, –ø–µ—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ –ø—Ä–∏–Ω—Ç–µ—Ä PC-365B.
–í—Å—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–Ω–æ–º–Ω–æ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–Ω—Ç—É—Ä–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ—Å—Ç—É—é cookie-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é.



–û–ø–∏—Å–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ Python: 
üéØ –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å:
–°–æ–∑–¥–∞—Ç—å –º–∞—Å—Ç–µ—Ä-–±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤—Å–µ—Ö –±–ª—é–¥ –∏–∑ Store House 5 –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—á–∞—Ç–∏ —ç—Ç–∏–∫–µ—Ç–æ–∫ –Ω–∞ –∫—É—Ö–Ω–µ.
üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    STORE HOUSE 5 (API)                      ‚îÇ
‚îÇ         –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏, —Ä–µ—Ü–µ–ø—Ç—É—Ä—ã, —É—á—ë—Ç                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
                       ‚îÇ export_dishes_with_extras.py
                       ‚îÇ (Async —ç–∫—Å–ø–æ—Ä—Ç 1 —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏)
                       ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              SQLite: dishes_with_extras.sqlite              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ  dishes    ‚îÇ ingredients  ‚îÇ dish_extra_labels‚îÇ extra_  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ (26772—à—Ç)  ‚îÇ  (69818—à—Ç)   ‚îÇ    (—Å–≤—è–∑–∏)       ‚îÇ ingred. ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ           ‚Üë –ú–ê–°–¢–ï–†-–ë–ê–ó–ê (—ç—Ç–∞–ª–æ–Ω –¥–∞–Ω–Ω—ã—Ö)                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
                       ‚îÇ FastAPI/Flask —Å–µ—Ä–≤–∏—Å
                       ‚îÇ GET /api/dishes/{rk_code}/with-labels
                       ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    PYTHON –ü–ï–ß–ê–¢–¨-–°–ï–†–í–ò–°                      ‚îÇ
‚îÇ  POST /print/order   POST /print/item   GET /jobs          ‚îÇ
‚îÇ           ‚Üì                ‚Üì                                 ‚îÇ
‚îÇ  1. –ü–æ–ª—É—á–∞–µ—Ç RK –∫–æ–¥ –æ—Ç –ë–£–°                                  ‚îÇ
‚îÇ  2. –ò—â–µ—Ç –≤ –ë–î ‚Üí –æ—Å–Ω–æ–≤–Ω–æ–µ –±–ª—é–¥–æ + –¥–æ–ø. —ç—Ç–∏–∫–µ—Ç–∫–∏             ‚îÇ
‚îÇ  3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç TSPL –∫–æ–º–∞–Ω–¥—ã (Pillow –¥–ª—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã)         ‚îÇ
‚îÇ  4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –ø—Ä–∏–Ω—Ç–µ—Ä TCP:9100                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
                       ‚îÇ HTTP POST/GET
                       ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              –ë–£–° (Back Office System) - PHP                  ‚îÇ
‚îÇ  –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ü–µ—á–∞—Ç—å —ç—Ç–∏–∫–µ—Ç–æ–∫":                                ‚îÇ
‚îÇ  - –í–∫–ª–∞–¥–∫–∞ "–ó–∞–∫–∞–∑—ã" (–ø–µ—á–∞—Ç—å –≤—Å–µ–≥–æ –∑–∞–∫–∞–∑–∞)                  ‚îÇ
‚îÇ  - –í–∫–ª–∞–¥–∫–∞ "–û–¥–Ω–æ –±–ª—é–¥–æ" (–ø–æ RK –∫–æ–¥—É)                       ‚îÇ
‚îÇ  - –í–∫–ª–∞–¥–∫–∞ "–û—á–µ—Ä–µ–¥—å" (—Å—Ç–∞—Ç—É—Å—ã –ø–µ—á–∞—Ç–∏)                       ‚îÇ
‚îÇ  - –í–∫–ª–∞–¥–∫–∞ "–®–∞–±–ª–æ–Ω—ã" (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±—Ä–µ–Ω–¥–æ–≤)                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
                       ‚Üì
                  üñ®Ô∏è –ü–†–ò–ù–¢–ï–†–´
              (TSC, Zebra –ø–æ Wi-Fi)
üîë –ö–ª—é—á–µ–≤—ã–µ –∑–∞–¥–∞—á–∏ —Å–∫—Ä–∏–ø—Ç–∞:
1. –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ Store House 5:
‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ —Ç–æ–≤–∞—Ä—ã —á–µ—Ä–µ–∑ API GoodsTree
‚úÖ –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –¥–µ–ª–∞–µ—Ç 2 –∑–∞–ø—Ä–æ—Å–∞:
GoodsItem ‚Üí –ë–ñ–£, –∫–∞–ª–æ—Ä–∏–∏, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è, –ø–æ–ª–µ AddListSauce
GoodsItemCompDetail ‚Üí —Å–æ—Å—Ç–∞–≤, –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, —Ä–∞—Å—á—ë—Ç –≤–µ—Å–∞
‚úÖ –ù–û–í–û–ï: –ß–∏—Ç–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω–æ–µ –ø–æ–ª–µ 6\\AddListSauce (RID'—ã –¥–æ–ø. —Ç–æ–≤–∞—Ä–æ–≤)
‚úÖ –î–ª—è –∫–∞–∂–¥–æ–≥–æ RID –∏–∑ AddListSauce –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ë–ñ–£ + —Å–æ—Å—Ç–∞–≤)
‚úÖ –ö–µ—à–∏—Ä—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã (–µ—Å–ª–∏ —Å–æ—É—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ 100 –±–ª—é–¥–∞—Ö ‚Üí –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è 1 —Ä–∞–∑)
2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –ë–î:
4 —Ç–∞–±–ª–∏—Ü—ã:
dishes                  -- –û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞ (26,772 —à—Ç)
‚îú‚îÄ rid, name, rkeeper_code, –ë–ñ–£, –≤–µ—Å, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è
‚îî‚îÄ has_extra_labels (—Ñ–ª–∞–≥: –µ—Å—Ç—å –ª–∏ –¥–æ–ø. —ç—Ç–∏–∫–µ—Ç–∫–∏)

ingredients             -- –°–æ—Å—Ç–∞–≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö –±–ª—é–¥ (69,818 —à—Ç)
‚îî‚îÄ dish_rid, name, yield_value, unit

dish_extra_labels       -- –°–≤—è–∑–∏: –æ—Å–Ω–æ–≤–Ω–æ–µ –±–ª—é–¥–æ ‚Üí –¥–æ–ø. —ç—Ç–∏–∫–µ—Ç–∫–∏
‚îú‚îÄ main_dish_rid (FK ‚Üí dishes.rid)
‚îú‚îÄ extra_dish_rid, extra_dish_name, –ë–ñ–£, –≤–µ—Å
‚îî‚îÄ sort_order (–ø–æ—Ä—è–¥–æ–∫ –ø–µ—á–∞—Ç–∏)

extra_dish_ingredients  -- –°–æ—Å—Ç–∞–≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
‚îî‚îÄ extra_dish_rid, name, yield_value, unit
3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
‚úÖ Async + aiohttp (100 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)
‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –≤ –ø–∞–º—è—Ç–∏
‚úÖ Checkpoint —Å–∏—Å—Ç–µ–º–∞ (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ—è)
‚úÖ Graceful shutdown (Ctrl+C —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å)
‚úÖ Adaptive throttling (—Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö) –†–µ–∑—É–ª—å—Ç–∞—Ç: 97.9 —Ç–æ–≤–∞—Ä–æ–≤/—Å–µ–∫ = 4.6 –º–∏–Ω—É—Ç—ã –Ω–∞ 26,772 —Ç–æ–≤–∞—Ä–∞ üöÄ
üíº –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å:
–®–∞–≥ 1: –ú–µ–Ω–µ–¥–∂–µ—Ä –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –±–ª—é–¥–∞ –≤ Store House 5
–ë–ª—é–¥–æ: "–õ–µ–ø–µ—à–∫–∞ —Å –≥–æ–≤—è–¥–∏–Ω–æ–π"
‚îú‚îÄ RKeeper –∫–æ–¥: 2538 (–∫–∞—Å—Å–æ–≤—ã–π —Ç–æ–≤–∞—Ä)
‚îú‚îÄ –í–µ—Å: 259–≥
‚îú‚îÄ –ë–ñ–£: –±–µ–ª–∫–∏/–∂–∏—Ä—ã/—É–≥–ª–µ–≤–æ–¥—ã
‚îú‚îÄ –°–æ—Å—Ç–∞–≤: –≥–æ–≤—è–¥–∏–Ω–∞, —Ç–µ—Å—Ç–æ, –ª—É–∫...
‚îî‚îÄ –ù–û–í–û–ï –ü–û–õ–ï AddListSauce: "7676, 8080"
    ‚îú‚îÄ 7676 = –°–æ—É—Å (565–≥, 1625 –∫–∫–∞–ª)
    ‚îî‚îÄ 8080 = –ì–∞—Ä–Ω–∏—Ä (310–≥, 215 –∫–∫–∞–ª)
–®–∞–≥ 2: –°–∫—Ä–∏–ø—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é)
# Cron: –∫–∞–∂–¥—É—é –Ω–æ—á—å –≤ 3:00
python export_dishes_with_extras.py
‚Üí –û–±–Ω–æ–≤–ª—è–µ—Ç –ë–î dishes_with_extras.sqlite
–®–∞–≥ 3: –û—Ñ–∏—Ü–∏–∞–Ω—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–∫–∞–∑
‚Üí RKeeper: –ø—Ä–æ–±–∏–≤–∞–µ—Ç "–õ–µ–ø–µ—à–∫–∞ —Å –≥–æ–≤—è–¥–∏–Ω–æ–π" (–∫–æ–¥ 2538)
–®–∞–≥ 4: –ë–£–° –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –ø–µ—á–∞—Ç—å
POST /print/order
{
  "order_guid": "abc-123",
  "items": [
    {"rk_code": "2538", "qty": 1}
  ]
}
–®–∞–≥ 5: Python-—Å–µ—Ä–≤–∏—Å –ø–µ—á–∞—Ç–∏
SQL-–∑–∞–ø—Ä–æ—Å:
SELECT d.*, del.* 
FROM dishes d
LEFT JOIN dish_extra_labels del ON d.rid = del.main_dish_rid
WHERE d.rkeeper_code = '2538';
–†–µ–∑—É–ª—å—Ç–∞—Ç:
–û—Å–Ω–æ–≤–Ω–æ–µ –±–ª—é–¥–æ (RID 14376, 259–≥)
–î–æ–ø. —ç—Ç–∏–∫–µ—Ç–∫–∞ #1 (RID 7676, 565–≥)
–î–æ–ø. —ç—Ç–∏–∫–µ—Ç–∫–∞ #2 (RID 8080, 310–≥)
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç TSPL –¥–ª—è 3 —ç—Ç–∏–∫–µ—Ç–æ–∫:
SIZE 60 mm, 40 mm
GAP 2 mm, 0 mm
DIRECTION 1
CLS
TEXT 10,10,"3",0,1,1,"–õ–µ–ø–µ—à–∫–∞ —Å –≥–æ–≤—è–¥–∏–Ω–æ–π"
TEXT 10,50,"2",0,1,1,"–í–µ—Å: 259–≥ | RK: 2538"
BARCODE 10,80,"128",60,1,0,2,2,"2538"
PRINT 1
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –ø—Ä–∏–Ω—Ç–µ—Ä (TCP 9100)
–®–∞–≥ 6: –ü–æ–≤–∞—Ä –ø–æ–ª—É—á–∞–µ—Ç —ç—Ç–∏–∫–µ—Ç–∫–∏
üñ®Ô∏è –ü–µ—á–∞—Ç–∞—é—Ç—Å—è 3 —ç—Ç–∏–∫–µ—Ç–∫–∏:
–û—Å–Ω–æ–≤–Ω–∞—è –ª–µ–ø—ë—à–∫–∞
–°–æ—É—Å (–æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
–ì–∞—Ä–Ω–∏—Ä (–æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
‚Üí –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–∑–≤–µ—à–µ–Ω, –ø—Ä–æ–º–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω, –ø—Ä–æ—Å–ª–µ–∂–∏–≤–∞–µ–º
‚úÖ –ß—Ç–æ –¥–∞—ë—Ç —Å–∏—Å—Ç–µ–º–∞:
–î–ª—è –∫—É—Ö–Ω–∏:
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—á–∞—Ç—å –≤—Å–µ—Ö –Ω—É–∂–Ω—ã—Ö —ç—Ç–∏–∫–µ—Ç–æ–∫
‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Å–∞ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
‚úÖ –ß—ë—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–æ—Å—Ç–∞–≤—É
‚úÖ –†–∞–∑–¥–µ–ª—å–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞ —Å–æ—É—Å–æ–≤/–¥–æ–±–∞–≤–æ–∫
–î–ª—è –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞:
‚úÖ –ü—Ä–æ—Å–ª–µ–∂–∏–≤–∞–µ–º–æ—Å—Ç—å (–∫–∞–∂–¥–∞—è —ç—Ç–∏–∫–µ—Ç–∫–∞ = —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–∞)
‚úÖ –°–∫–ª–∞–¥—Å–∫–æ–π —É—á—ë—Ç –ø–æ Store House 5
‚úÖ –°–æ–±–ª—é–¥–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ (–ì–û–°–¢, –°–∞–Ω–ü–∏–ù)
‚úÖ –ê—É–¥–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
–î–ª—è –∫–ª–∏–µ–Ω—Ç–∞:
‚úÖ –¢–æ—á–Ω—ã–π –≤–µ—Å –∏ —Å–æ—Å—Ç–∞–≤
‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–ª–æ—Ä–∏—è—Ö –∏ –ë–ñ–£
‚úÖ –†–∞–∑–¥–µ–ª—å–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞ (—Å–æ—É—Å –æ—Ç–¥–µ–ª—å–Ω–æ)
üéØ –†–µ–∑—é–º–µ:
–°–∫—Ä–∏–ø—Ç export_dishes_with_extras.py ‚Äî —ç—Ç–æ —Å–µ—Ä–¥—Ü–µ —Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä–æ–µ:
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Store House 5 –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î
–°–≤—è–∑—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —ç—Ç–∏–∫–µ—Ç–∫–∞–º–∏ —á–µ—Ä–µ–∑ AddListSauce
–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –ø–µ—á–∞—Ç–∏ (–ë–ñ–£, –≤–µ—Å, —Å–æ—Å—Ç–∞–≤, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è)
–†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é)
–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (97.9 —Ç–æ–≤–∞—Ä–æ–≤/—Å–µ–∫ —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º)
–ë–µ–∑ —ç—Ç–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ ‚Äî –Ω–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –±–∞–∑—ã ‚Üí –Ω–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—á–∞—Ç–∏ ‚Üí –ø–æ–≤–∞—Ä–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –≤—Ä—É—á–Ω—É—é ‚ùå
–° —ç—Ç–∏–º —Å–∫—Ä–∏–ø—Ç–æ–º ‚Äî –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≤ –ë–£–° ‚Üí –≤—Å–µ —ç—Ç–∏–∫–µ—Ç–∫–∏ –Ω–∞ –∫—É—Ö–Ω—é ‚Üí –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ ‚úÖ