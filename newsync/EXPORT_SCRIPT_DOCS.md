# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –°–∫—Ä–∏–ø—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ –±–ª—é–¥ –∏–∑ Store House 5

## –û–ø–∏—Å–∞–Ω–∏–µ

`export_dishes_full.py` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞ –±–ª—é–¥ –∏–∑ Store House 5 –≤ SQLite –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –ø–µ—á–∞—Ç–∏ —ç—Ç–∏–∫–µ—Ç–æ–∫.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –≠–∫—Å–ø–æ—Ä—Ç 26,942+ –±–ª—é–¥ —Å –ø–æ–ª–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–µ–π (6 —É—Ä–æ–≤–Ω–µ–π –≥—Ä—É–ø–ø)
- –ü–æ–ª—É—á–µ–Ω–∏–µ **–±–∞–∑–æ–≤—ã—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤** (–Ω–µ –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç–æ–≤) –∏–∑ –∫–∞–ª—å–∫—É–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç
- –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —ç—Ç–∏–∫–µ—Ç–æ–∫ (—Å–æ—É—Å—ã, –≥–∞—Ä–Ω–∏—Ä—ã —á–µ—Ä–µ–∑ –ø–æ–ª–µ AddListSauce)
- Checkpoint —Å–∏—Å—Ç–µ–º–∞ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∫–∞–∂–¥—ã–µ 1000 –±–ª—é–¥)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –ø—É–ª–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ—Å—Ç–∞–≤–∞ (–í–ê–ñ–ù–û!)

**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ 6 –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç–æ–≤ –≤–º–µ—Å—Ç–æ 15 –±–∞–∑–æ–≤—ã—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ—Å—Ç–∞–≤–∞ –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö:
- `process_dish()` - –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –±–ª—é–¥ (—Å—Ç—Ä–æ–∫–∏ 845-888)
- `fetch_extra_dish()` - –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —ç—Ç–∏–∫–µ—Ç–æ–∫ (—Å—Ç—Ä–æ–∫–∏ 735-778)

**–ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:**

#### –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è):
```python
for ing in composition:
    if ing.get("218#3\\1") is not None:  # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã —Å —Ä–æ–¥–∏—Ç–µ–ª–µ–º
        continue

    yield_val = ing.get("53", 0)  # –ü–æ–ª–µ "53" (–≤—ã—Ö–æ–¥) - –Ω–µ—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 6 –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç–æ–≤, –Ω–µ–ø–æ–ª–Ω—ã–π —Å–æ—Å—Ç–∞–≤

#### –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è):
```python
from collections import defaultdict

# –®–∞–≥ 1: –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ RID'—ã, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏ (–ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã)
parent_rids = set()
for ing in composition:
    parent_rid = ing.get("218#3\\1")
    if parent_rid is not None:
        parent_rids.add(parent_rid)

# –®–∞–≥ 2: –ë–µ—Ä—ë–º —Ç–æ–ª—å–∫–æ –ª–∏—Å—Ç—å—è (–±–∞–∑–æ–≤—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã) –∏ –∞–≥—Ä–µ–≥–∏—Ä—É–µ–º –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—è–º
aggregated = defaultdict(lambda: {"yield": 0.0, "unit": ""})

for ing in composition:
    ingredient_rid = ing.get("1")

    # –ï—Å–ª–∏ —ç—Ç–æ—Ç RID —è–≤–ª—è–µ—Ç—Å—è —Ä–æ–¥–∏—Ç–µ–ª–µ–º - –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
    if ingredient_rid in parent_rids:
        continue

    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–µ "9" (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ) –≤–º–µ—Å—Ç–æ "53" (–≤—ã—Ö–æ–¥)
    yield_val = ing.get("9", 0)  # –ü–†–ê–í–ò–õ–¨–ù–û–ï –ü–û–õ–ï!
    try:
        yield_float = float(str(yield_val).replace(",", "."))
        if yield_float <= 0:
            continue
    except (ValueError, TypeError):
        continue

    ing_name = ing.get("210\\3", "")
    ing_name = re.sub(r'^–ü–§\s+\d+\s+', '', ing_name)  # –£–±–∏—Ä–∞–µ–º "–ü–§ 123 " –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è
    unit = ing.get("210\\206\\3", "")

    # –°–£–ú–ú–ò–†–£–ï–ú –¥—É–±–ª–∏ –ø–æ –∏–º–µ–Ω–∏
    aggregated[ing_name]["yield"] += yield_float
    aggregated[ing_name]["unit"] = unit

# –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —Å–ø–∏—Å–æ–∫
ingredients = [
    {"name": name, "yield": data["yield"], "unit": data["unit"]}
    for name, data in sorted(aggregated.items())
]
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 15 –±–∞–∑–æ–≤—ã—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤, –ø–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–∫–ª–∞–¥–∫–µ "–ö–∞–ª—å–∫—É–ª—è—Ü–∏—è" –≤ Store House 5

### –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **Leaf detection**: –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ RID (–ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã) –∏ —Ñ–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –ª–∏—Å—Ç–æ–≤—ã–µ —É–∑–ª—ã (–±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã)

2. **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–ª–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–µ `"9"` (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ), –∞ –Ω–µ `"53"` (–≤—ã—Ö–æ–¥)
   - –ü–æ–ª–µ `"53"` –º–æ–∂–µ—Ç –±—ã—Ç—å `-0.0` –∏–ª–∏ `0` –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
   - –ü–æ–ª–µ `"9"` —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤

3. **–ê–≥—Ä–µ–≥–∞—Ü–∏—è**: –°—É–º–º–∏—Ä—É–µ–º –¥—É–±–ª–∏ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —á–µ—Ä–µ–∑ `defaultdict`
   - –ü—Ä–∏–º–µ—Ä: "–°–æ–ª—å" –º–æ–∂–µ—Ç –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è 3 —Ä–∞–∑–∞ –≤ –¥–µ—Ä–µ–≤–µ —Å–æ—Å—Ç–∞–≤–∞
   - –ò—Ç–æ–≥–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: —Å—É–º–º–∞ –≤—Å–µ—Ö –≤—Ö–æ–∂–¥–µ–Ω–∏–π

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SQL placeholder (—Å—Ç—Ä–æ–∫–∞ 371)

**–ë—ã–ª–æ:**
```python
placeholders = ", ".join(["?"] * (4 + MAX_GROUP_LEVELS * 2 + 9))  # 25 placeholders
```
**–û—à–∏–±–∫–∞:** `sqlite3.OperationalError: 25 values for 26 columns`

**–°—Ç–∞–ª–æ:**
```python
placeholders = ", ".join(["?"] * (4 + MAX_GROUP_LEVELS * 2 + 10))  # 26 placeholders
```
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —É—á–∏—Ç—ã–≤–∞–ª–æ—Å—å –ø–æ–ª–µ `has_extra_labels`

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Windows encoding

**–ë—ã–ª–æ:** Emoji —Å–∏–º–≤–æ–ª—ã –≤ print() –≤—ã–∑—ã–≤–∞–ª–∏ `UnicodeEncodeError`

**–°—Ç–∞–ª–æ:** –í—Å–µ emoji –∏ –∫–∏—Ä–∏–ª–ª–∏—Ü–∞ –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ ASCII —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—é:
- `"üöÄ –ù–∞—á–∏–Ω–∞–µ–º..."` ‚Üí `"[>] Nachinaem..."`
- `"‚ñà"` (–ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä) ‚Üí `"#"`
- `"‚úÖ"` ‚Üí `"[OK]"`

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞: `dishes`
–û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞ —Å –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–µ–π

```sql
CREATE TABLE dishes (
    rid INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    rkeeper_code TEXT,
    type TEXT,

    -- –ò–µ—Ä–∞—Ä—Ö–∏—è (6 —É—Ä–æ–≤–Ω–µ–π)
    level_1_rid INTEGER,
    level_1_name TEXT,
    level_2_rid INTEGER,
    level_2_name TEXT,
    level_3_rid INTEGER,
    level_3_name TEXT,
    level_4_rid INTEGER,
    level_4_name TEXT,
    level_5_rid INTEGER,
    level_5_name TEXT,
    level_6_rid INTEGER,
    level_6_name TEXT,

    -- –ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å
    protein REAL,
    fat REAL,
    carbs REAL,
    calories REAL,
    weight_g REAL,
    calculated_weight_g REAL,

    -- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
    technology TEXT,
    has_extra_labels INTEGER DEFAULT 0,
    created_at TEXT
);

CREATE INDEX idx_rkeeper_code ON dishes(rkeeper_code);
CREATE INDEX idx_level_1_name ON dishes(level_1_name);
CREATE INDEX idx_level_2_name ON dishes(level_2_name);
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `rkeeper_code` –º–æ–∂–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è! –û–¥–Ω–æ –±–ª—é–¥–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞—Ö.

### –¢–∞–±–ª–∏—Ü–∞: `ingredients`
–°–æ—Å—Ç–∞–≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö –±–ª—é–¥ (–ë–ê–ó–û–í–´–ï –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, –Ω–µ –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã!)

```sql
CREATE TABLE ingredients (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    dish_rid INTEGER,
    name TEXT,
    yield_value REAL,
    unit TEXT,
    FOREIGN KEY (dish_rid) REFERENCES dishes(rid)
);

CREATE INDEX idx_ingredients_dish_rid ON ingredients(dish_rid);
```

### –¢–∞–±–ª–∏—Ü–∞: `dish_extra_labels`
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç—Ç–∏–∫–µ—Ç–∫–∏ (—Å–æ—É—Å—ã, –≥–∞—Ä–Ω–∏—Ä—ã –∏–∑ –ø–æ–ª—è AddListSauce)

```sql
CREATE TABLE dish_extra_labels (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    main_dish_rid INTEGER,
    extra_dish_rid INTEGER,
    extra_dish_name TEXT,
    extra_dish_protein REAL,
    extra_dish_fat REAL,
    extra_dish_carbs REAL,
    extra_dish_calories REAL,
    extra_dish_weight_g REAL,
    sort_order INTEGER,
    FOREIGN KEY (main_dish_rid) REFERENCES dishes(rid)
);

CREATE INDEX idx_extra_labels_main_dish ON dish_extra_labels(main_dish_rid);
```

### –¢–∞–±–ª–∏—Ü–∞: `extra_dish_ingredients`
–°–æ—Å—Ç–∞–≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —ç—Ç–∏–∫–µ—Ç–æ–∫

```sql
CREATE TABLE extra_dish_ingredients (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    extra_dish_rid INTEGER,
    name TEXT,
    yield_value REAL,
    unit TEXT,
    FOREIGN KEY (extra_dish_rid) REFERENCES dish_extra_labels(extra_dish_rid)
);

CREATE INDEX idx_extra_ingredients_rid ON extra_dish_ingredients(extra_dish_rid);
```

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–°–∫–æ—Ä–æ—Å—Ç—å:** ~60 –±–ª—é–¥/—Å–µ–∫
- **–í—Ä–µ–º—è –ø–æ–ª–Ω–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞:** ~7.5 –º–∏–Ω—É—Ç (26,942 –±–ª—é–¥)
- **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º:** 20 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ SH5 API
- **Checkpoint:** –ö–∞–∂–¥—ã–µ 1000 –±–ª—é–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** SQLite —Å WAL —Ä–µ–∂–∏–º–æ–º –¥–ª—è concurrent writes

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞:
```bash
python export_dishes_full.py
```

### –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è:
–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ checkpoint'–∞

### –§–∞–π–ª—ã:
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** `dishes_full.sqlite`
- **Checkpoint:** `export_checkpoint.json`

---

## API Store House 5

### Endpoint:
```
http://10.0.0.141:9797/api/sh5exec
```

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã:

#### 1. GoodsTree - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ –≥—Ä—É–ø–ø
```python
{
    "procedure": "GoodsTree",
    "params": [{"head": "1"}]
}
```

#### 2. GoodsItem - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≥—Ä—É–ø–ø—ã
```python
{
    "procedure": "GoodsItem",
    "params": [{
        "head": "106#1",
        "original": ["110\\31"],
        "values": [[group_rid]]
    }]
}
```

#### 3. GoodsItemCompDetail - —Å–æ—Å—Ç–∞–≤ –±–ª—é–¥–∞
```python
{
    "procedure": "GoodsItemCompDetail",
    "params": [{
        "head": "210#1",
        "original": ["1", "106\\1", "110\\31"],
        "values": [[dish_rid], [None], [current_date]]  # –î–∞—Ç–∞ –í–ê–ñ–ù–ê!
    }]
}
```

**–í–ê–ñ–ù–û:** –ü–∞—Ä–∞–º–µ—Ç—Ä –¥–∞—Ç—ã –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–æ—Å—Ç–∞–≤! –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É:
```python
current_date = datetime.now().strftime("%Y-%m-%d")
```

### –ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è API:

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|------|----------|---------------|
| `"1"` | RID —Ç–æ–≤–∞—Ä–∞/–∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `"9"` | **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ** | **–ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è —Å–æ—Å—Ç–∞–≤–∞!** |
| `"53"` | –í—ã—Ö–æ–¥ (yield) | ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–Ω–µ—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ) |
| `"42"` | is_semifinished | 1 = –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç, 0 = –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç |
| `"218#3\\1"` | Parent RID | –î–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–µ—Ä–µ–≤–∞ —Å–æ—Å—Ç–∞–≤–∞ |
| `"210\\3"` | –ù–∞–∑–≤–∞–Ω–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ | |
| `"210\\206\\3"` | –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è | –∫–≥, –ª, —à—Ç |
| `"210#1"` | RID –±–ª—é–¥–∞ | |
| `"210\\31"` | –ö–æ–¥ RKeeper | –ú–æ–∂–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è! |
| `"210\\106\\3"` | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è | |
| `"210\\122#1"` | AddListSauce | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç—Ç–∏–∫–µ—Ç–∫–∏ (JSON array) |

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. UnicodeEncodeError –≤ Windows
**–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ emoji —É–¥–∞–ª–µ–Ω—ã –∏–∑ —Å–∫—Ä–∏–ø—Ç–∞

### 2. SQL error: 25 values for 26 columns
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω placeholder count (—Å—Ç—Ä–æ–∫–∞ 371)

### 3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–æ—Å—Ç–∞–≤ (6 –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –≤–º–µ—Å—Ç–æ 15)
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–µ "9" + leaf detection + –∞–≥—Ä–µ–≥–∞—Ü–∏—è

### 4. –î—É–±–ª–∏ RKeeper –∫–æ–¥–æ–≤
**–†–µ—à–µ–Ω–∏–µ:** –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ `level_2_name` (department) –∏–ª–∏ `level_1_name` (restaurant)

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –í–µ—Ä—Å–∏—è 3.0 (—Ç–µ–∫—É—â–∞—è)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ—Å—Ç–∞–≤–∞ (–±–∞–∑–æ–≤—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã + –∞–≥—Ä–µ–≥–∞—Ü–∏—è)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–µ "9" –≤–º–µ—Å—Ç–æ "53"
- ‚úÖ Leaf node detection –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç–æ–≤
- ‚úÖ –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥—É–±–ª–µ–π –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω SQL placeholder bug
- ‚úÖ –£–±—Ä–∞–Ω—ã emoji –¥–ª—è Windows

### –í–µ—Ä—Å–∏—è 2.0
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 6-—É—Ä–æ–≤–Ω–µ–≤–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏
- Checkpoint —Å–∏—Å—Ç–µ–º–∞
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç—Ç–∏–∫–µ—Ç–∫–∏ (AddListSauce)

### –í–µ—Ä—Å–∏—è 1.0
- –ë–∞–∑–æ–≤—ã–π —ç–∫—Å–ø–æ—Ä—Ç –±–ª—é–¥ –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
